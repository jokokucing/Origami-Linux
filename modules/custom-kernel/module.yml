name: custom-kernel
shortdesc: Install a custom kernel on Fedora-based images.
example: |
  # Install the CachyOS LTO kernel (default)
  type: custom-kernel
  kernel: cachyos-lto

  # Use the CachyOS LTS LTO kernel
  type: custom-kernel
  kernel: cachyos-lts-lto

  # Use the CachyOS (non-LTO) kernel
  type: custom-kernel
  kernel: cachyos

  # Use the CachyOS RT (non-LTO) kernel
  type: custom-kernel
  kernel: cachyos-rt

  # Use the CachyOS LTS (non-LTO) kernel
  type: custom-kernel
  kernel: cachyos-lts

  # Install Nvidia drivers on top of the custom kernel and sign ev erything
  type: custom-kernel
  kernel: cachyos-lto
  nvidia: true
  sign:
    key: /path/to/key
    mok-password: scachy
    mok-issuer: scachy
  secrets:
  - type: file
    source: ./MOK.priv
    mount:
      type: file
      destination: /tmp/certs/MOK.priv
